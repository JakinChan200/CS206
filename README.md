# Running the program
*   Go to directory **`cs206-project-on-rounds`**
*   Execution: **`./test_suites.sh <prog_name>`** to create the test suites and run them. (Ex. `./test_suites.sh tcas`)<br>
*   Test suites will appear in `benchmarks/<prog_name>/test_suites/`.<br>
*   The set of faults will appear in `benchmarks/<prog_name>/results/`. There are also files that show which test case was pinged by which fault in `results/by_case/`.<br>
*   If we want to test a program not in `benchmarks/`, this can be done with `<folder>/<prog_name>` for the `prog_name`.
*   Make sure to update gcc and gcov. Have C++11.

# Important Sub-Programs:
### `test_suites.sh`
*   Usage: `./test_suites.sh <prog_name>`
*   This script handles the navigation and running of the following programs. All of the programs were created and tested separately, and `test_suites.sh` runs them all together.
*   `test_suites.sh` has a few flags to help skip some steps in the process.
*   * `-g` is used to run only `generate_tests.sh` and `parse`.
    * `-r` is used to run only `run_tests.sh` and `data_collect`.
    * `-u` is used to run only on `universe.txt` (to get default data).
    * `-t` is used to run only generated test suites from `test_suites/`.
### 1. `generate_tests.sh`
*   Usage: `./generate_tests.sh <prog_name> cmd...`
*   This script will generate coverage information for every test case in `universe.txt`. A `.json` file is created for every test case and stored in `json/`.
*   Input requires the compilation command to allow for modular usage.
*   `cmd...` is the command to compile the program that tests are being generated for.
### 2. `parse.cpp`
*   Usage: `parse <prog_name> universe.txt`
*   After the `.json` files are created, `parse` will put all of the information in a list. From here, test suites can be generated by either statement coverage or branch coverage, using 1 of 3 prioritization techniques: random prioritization, total coverage prioritization, or additional coverage prioritization. 6 test suites are created and stored in `test_suites/`.
### 3. `run_tests.sh`
*   Usage: `./run_tests.sh <prog_name> <test_suite>.txt cmd...`
*    This script takes a given test suite and will compile and execute all versions of the program. These outputs are stored in `.txt` files in their respective directories.
*   Input requires the compilation command to allow for modular usage.
*   `cmd...` is the command to compile the program that tests are being generated for.
### 4. `data_collect.cpp`
*   Usage: `./data_collect <test_suite>.txt`
*   Finally, `data_collect` takes all of the generated `.txt` files from `run_tests` and saves the results into one file that has the set of faults that were accumulated. If the faulty program's output for a test case differs from the correct output, it is added to the set.
### 5. `clean.sh`
*   Usage: `./clean.sh`
*   Since many `.txt` files are created during the run_tests phase, `clean.sh` helps with removing those temporary files. It does not touch executables.

# Library Used:
* [nlohmann/json](https://github.com/nlohmann/json): This library was used to read in and parse the `.json` files to use for prioritization techniques in `parse`.
